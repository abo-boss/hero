"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{9369:function(e,t,s){s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},2235:function(e,t,s){s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7907:function(e,t,s){var a=s(5313);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},1219:function(e,t,s){s.r(t),s.d(t,{Search:function(){return h}});var a=s(3827),l=s(4090),r=s(7907),n=s(7461);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,n.Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var o=s(9369);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,n.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),d=(0,n.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var x=s(2235),u=s(8994);function h(){let[e,t]=(0,l.useState)(!1),[s,n]=(0,l.useState)(""),[h,m]=(0,l.useState)([]),[p,v]=(0,l.useState)([]),[f,g]=(0,l.useState)(!1),y=(0,l.useRef)(null),b=(0,r.useRouter)();(0,l.useEffect)(()=>{let t=async()=>{g(!0);try{let e=await fetch("/api/search"),t=await e.json();v(t)}catch(e){console.error("Failed to fetch search data",e)}finally{g(!1)}};e&&0===p.length&&t()},[e,p.length]),(0,l.useEffect)(()=>{e&&setTimeout(()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.focus()},100)},[e]),(0,l.useEffect)(()=>{if(!s.trim()){m([]);return}let e=s.toLowerCase();m(p.filter(t=>{var s,a;return t.title.toLowerCase().includes(e)||(null===(s=t.description)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(a=t.tags)||void 0===a?void 0:a.some(t=>t.toLowerCase().includes(e)))}).slice(0,10))},[s,p]),(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t(!1),(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),t(!0))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]);let j=e=>{if(t(!1),n(""),"blog"===e.category||"blog"===e.type){b.push("/blog/".concat(e.slug));return}b.push("/resources/".concat(e.category,"/").concat(e.slug))},w=e=>"podcast"===e.category||"cc-podcast"===e.category?(0,a.jsx)(i,{className:"w-4 h-4 text-purple-500"}):"ai"===e.category||"cc-video"===e.category?(0,a.jsx)(o.Z,{className:"w-4 h-4 text-blue-500"}):(0,a.jsx)(c,{className:"w-4 h-4 text-slate-500"});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>t(!0),className:"p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-500 hover:text-slate-900",children:(0,a.jsx)(d,{className:"h-5 w-5"})}),e&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-start justify-center pt-[15vh] px-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-slate-900/20 backdrop-blur-sm transition-opacity",onClick:()=>t(!1)}),(0,a.jsxs)("div",{className:"relative w-full max-w-2xl bg-white rounded-2xl shadow-2xl ring-1 ring-slate-900/5 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center border-b border-slate-100 px-4 py-3",children:[(0,a.jsx)(d,{className:"w-5 h-5 text-slate-400 mr-3"}),(0,a.jsx)("input",{ref:y,type:"text",value:s,onChange:e=>n(e.target.value),placeholder:"搜索资源、文章、标签...",className:"flex-1 bg-transparent text-lg outline-none placeholder:text-slate-400 text-slate-900 h-10"}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"p-1 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-slate-600 transition-colors",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"max-h-[60vh] overflow-y-auto scrollbar-hide p-2",children:[f&&0===p.length&&(0,a.jsxs)("div",{className:"flex items-center justify-center py-12 text-slate-400",children:[(0,a.jsx)(u.Z,{className:"w-6 h-6 animate-spin mr-2"}),"加载索引中..."]}),!f&&s&&0===h.length&&(0,a.jsxs)("div",{className:"py-12 text-center text-slate-500 text-sm",children:["未找到与 “",s,"” 相关的内容"]}),!s&&p.length>0&&(0,a.jsxs)("div",{className:"px-2 py-8 text-center",children:[(0,a.jsx)("p",{className:"text-sm text-slate-400 mb-4",children:"尝试搜索"}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:["ChatGPT","Cursor","Prompt","个人品牌","写作"].map(e=>(0,a.jsx)("button",{onClick:()=>n(e),className:"px-3 py-1.5 bg-slate-50 hover:bg-slate-100 rounded-lg text-sm text-slate-600 transition-colors border border-slate-100",children:e},e))})]}),h.length>0&&(0,a.jsx)("div",{className:"space-y-1",children:h.map(e=>{var t;return(0,a.jsxs)("button",{onClick:()=>j(e),className:"w-full text-left flex items-start gap-3 p-3 rounded-xl hover:bg-slate-50 transition-colors group",children:[(0,a.jsx)("div",{className:"mt-1 p-2 bg-white border border-slate-100 rounded-lg shadow-sm group-hover:border-slate-200 group-hover:shadow-md transition-all",children:w(e)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-medium text-slate-900 truncate group-hover:text-blue-600 transition-colors",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:e.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:null===(t=e.tags)||void 0===t?void 0:t.slice(0,3).map(e=>(0,a.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 bg-slate-100 text-slate-500 rounded-md",children:["#",e]},e))})]}),(0,a.jsx)("div",{className:"text-[10px] font-medium text-slate-400 uppercase tracking-wider mt-1.5",children:"blog"===e.type?"Blog":"Resource"})]},e.slug)})})]})]})]})]})}},5762:function(e,t,s){s.r(t),s.d(t,{WeChatModal:function(){return i}});var a=s(3827),l=s(4090),r=s(703),n=s(2235);function i(){let[e,t]=(0,l.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>t(!0),className:"hover:text-slate-900 transition-colors",children:"WeChat"}),e&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm transition-all",onClick:()=>t(!1),children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-[320px] w-full relative shadow-2xl animate-in fade-in zoom-in-95 duration-200",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("button",{onClick:()=>t(!1),className:"absolute right-4 top-4 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full p-1 transition-colors",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:"扫码加好友"}),(0,a.jsx)("div",{className:"relative w-48 h-48 bg-slate-50 rounded-xl overflow-hidden mb-4 border border-slate-100 shadow-inner",children:(0,a.jsx)(r.default,{src:"/wechat-qr.png",alt:"WeChat QR Code",fill:!0,className:"object-cover"})}),(0,a.jsx)("p",{className:"text-xs text-slate-400 text-center",children:"添加时请注明来意"})]})]})})]})}}}]);