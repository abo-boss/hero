(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{8449:function(e,t,l){Promise.resolve().then(l.bind(l,756))},7461:function(e,t,l){"use strict";l.d(t,{Z:function(){return r}});var s=l(4090),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),r=(e,t)=>{let l=(0,s.forwardRef)((l,r)=>{let{color:i="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:c,className:d="",children:m,...p}=l;return(0,s.createElement)("svg",{ref:r,...a,width:o,height:o,stroke:i,strokeWidth:c?24*Number(u)/Number(o):u,className:["lucide","lucide-".concat(n(e)),d].join(" "),...p},[...t.map(e=>{let[t,l]=e;return(0,s.createElement)(t,l)}),...Array.isArray(m)?m:[m]])});return l.displayName="".concat(e),l}},8994:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},834:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},2235:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3472:function(e,t,l){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let s=l(5355);function a(e){let{createServerReference:t}=l(7355);return t(e,s.callServer)}},4930:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=l(6921);l(3827),l(4090);let a=s._(l(4795));function n(e,t){let l={loading:e=>{let{error:t,isLoading:l,pastDelay:s}=e;return null}};return"function"==typeof e&&(l.loader=e),(0,a.default)({...l,...t})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9721:function(e,t,l){"use strict";function s(e){let{reason:t,children:l}=e;return l}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}}),l(9775)},4795:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let s=l(3827),a=l(4090),n=l(9721);function r(e){var t;return{default:null!=(t=null==e?void 0:e.default)?t:e}}let i={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},l=(0,a.lazy)(()=>t.loader().then(r)),o=t.loading;function u(e){let r=o?(0,s.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,s.jsx)(l,{...e}):(0,s.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(l,{...e})});return(0,s.jsx)(a.Suspense,{fallback:r,children:i})}return u.displayName="LoadableComponent",u}},756:function(e,t,l){"use strict";l.r(t),l.d(t,{PostForm:function(){return C}});var s=l(3827),a=l(4930),n=l.n(a),r=l(4090);l(8820);var i=l(8994),o=l(834),u=l(2235),c=l(7461);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),m={ai:["AI","ChatGPT","LLM","Tutorial","News","Review","Productivity","Coding","Midjourney","Stable Diffusion"],"content-creation":["Writing","YouTube","Podcast","Marketing","Social Media","Branding","Storytelling"],blog:["Tech","Life","Thoughts","Coding","Guide"],default:["Update","News","Featured","Guide"]};function p(e){let{initialTags:t="",onChange:l,category:a="default",suggestions:n}=e,[i,o]=(0,r.useState)([]),[c,p]=(0,r.useState)(""),x=n||m[a]||m.default;(0,r.useEffect)(()=>{t&&o(t.split(",").map(e=>e.trim()).filter(Boolean))},[t]);let f=e=>{let t=e.trim();if(t&&!i.includes(t)){let e=[...i,t];o(e),l(e.join(","))}p("")},h=e=>{let t=i.filter(t=>t!==e);o(t),l(t.join(","))};return(0,s.jsxs)("div",{className:"w-full space-y-3",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 p-3 rounded-xl border border-slate-200 bg-white focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all min-h-[46px]",children:[i.map(e=>(0,s.jsxs)("span",{className:"flex items-center gap-1.5 px-2.5 py-1 text-sm font-medium bg-blue-50 text-blue-700 rounded-lg group animate-in fade-in zoom-in duration-200",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>h(e),className:"text-blue-400 hover:text-blue-600 hover:bg-blue-100 rounded-full p-0.5 transition-colors",children:(0,s.jsx)(u.Z,{className:"w-3.5 h-3.5"})})]},e)),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),f(c)):"Backspace"===e.key&&!c&&i.length>0&&h(i[i.length-1])},onBlur:()=>c&&f(c),className:"flex-1 min-w-[120px] outline-none bg-transparent text-sm py-1.5 px-1 placeholder:text-slate-400",placeholder:0===i.length?"输入标签后按回车...":""})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-xs font-medium text-slate-500 mb-2 px-1",children:"推荐标签 (点击添加):"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(e=>{let t=i.includes(e);return(0,s.jsxs)("button",{type:"button",onClick:()=>!t&&f(e),disabled:t,className:"\n                  flex items-center gap-1 px-3 py-1.5 rounded-lg text-xs font-medium transition-all border\n                  ".concat(t?"bg-slate-100 text-slate-400 border-slate-100 cursor-default":"bg-white text-slate-600 border-slate-200 hover:border-blue-300 hover:text-blue-600 hover:bg-blue-50 cursor-pointer shadow-sm","\n                "),children:[e,!t&&(0,s.jsx)(d,{className:"w-3 h-3 opacity-50"})]},e)})})]}),(0,s.jsx)("input",{type:"hidden",name:"tags",value:i.join(",")})]})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,c.Z)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),f=(0,c.Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),h=(0,c.Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);l(5355);var g=l(3472);(0,g.$)("d221600253345c81968a0a74a4d0638dccc83403");var b=(0,g.$)("a58d85cb8f9da22909cb36974b0c660431b6fe98"),y=(0,g.$)("0dfc18d0a786314f00b81027f19dbaf74ddbe5c1");function v(e){let{contextKey:t,onTagsChange:l}=e,[a,n]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),[d,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(""),[v,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=!0;return c(!0),b(t).then(t=>{e&&(n(t),c(!1),null==l||l(t))}),()=>{e=!1}},[t]);let N=async e=>{m(!0);try{await y(t,e),null==l||l(e)}catch(e){console.error("Failed to save tags",e),alert("保存标签失败")}finally{m(!1)}},w=async()=>{let e=p.trim();if(e&&!a.includes(e)){let t=[...a,e];n(t),g(""),await N(t)}},C=async e=>{if(!confirm('确定要从预设中删除标签 "'.concat(e,'" 吗？')))return;let t=a.filter(t=>t!==e);n(t),await N(t)},k=async(e,t)=>{if("up"===t&&0===e||"down"===t&&e===a.length-1)return;let l=[...a],s="up"===t?e-1:e+1,r=l[e];l[e]=l[s],l[s]=r,n(l),await N(l)};return o?(0,s.jsxs)("div",{className:"text-sm text-slate-400 flex items-center gap-2",children:[(0,s.jsx)(i.Z,{className:"w-3 h-3 animate-spin"})," 加载标签配置..."]}):(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>j(!v),className:"text-xs flex items-center gap-1 text-slate-500 hover:text-blue-600 mb-2 transition-colors",children:[(0,s.jsx)(x,{className:"w-3 h-3"}),v?"收起标签管理":"管理预设标签 (排序/添加/删除)"]}),v&&(0,s.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-4 mb-4 animate-in slide-in-from-top-2 duration-200",children:[(0,s.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,s.jsx)("input",{value:p,onChange:e=>g(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),w()),placeholder:"输入新标签...",className:"flex-1 px-3 py-1.5 text-sm rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"button",onClick:w,disabled:d||!p.trim(),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:"添加"})]}),(0,s.jsxs)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[a.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded-lg border border-slate-100 shadow-sm group",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-700",children:e}),(0,s.jsxs)("div",{className:"flex items-center gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[(0,s.jsx)("button",{type:"button",onClick:()=>k(t,"up"),disabled:0===t||d,className:"p-1 hover:bg-slate-100 rounded text-slate-500 disabled:opacity-30",title:"上移",children:(0,s.jsx)(f,{className:"w-3 h-3"})}),(0,s.jsx)("button",{type:"button",onClick:()=>k(t,"down"),disabled:t===a.length-1||d,className:"p-1 hover:bg-slate-100 rounded text-slate-500 disabled:opacity-30",title:"下移",children:(0,s.jsx)(h,{className:"w-3 h-3"})}),(0,s.jsx)("div",{className:"w-px h-3 bg-slate-200 mx-1"}),(0,s.jsx)("button",{type:"button",onClick:()=>C(e),disabled:d,className:"p-1 hover:bg-red-50 text-slate-400 hover:text-red-500 rounded transition-colors",title:"删除",children:(0,s.jsx)(u.Z,{className:"w-3 h-3"})})]})]},e)),0===a.length&&(0,s.jsx)("div",{className:"text-center text-xs text-slate-400 py-4",children:"暂无预设标签"})]}),d&&(0,s.jsxs)("div",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1",children:[(0,s.jsx)(i.Z,{className:"w-3 h-3 animate-spin"})," 保存中..."]})]})]})}let j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")};var N=l(985);let w=n()(()=>Promise.all([l.e(960),l.e(714),l.e(562)]).then(l.bind(l,6714)),{loadableGenerated:{webpack:()=>[6714]},ssr:!1});function C(e){let{action:t,initialData:l,isEditing:a,defaultType:n,defaultCategory:u,defaultResourceType:c}=e,[d,m]=(0,r.useState)((null==l?void 0:l.content)||""),[x,f]=(0,r.useState)((null==l?void 0:l.title)||""),[h,g]=(0,r.useState)((null==l?void 0:l.description)||""),[b,y]=(0,r.useState)((null==l?void 0:l.slug)||""),[C,k]=(0,r.useState)(!1),[A,S]=(0,r.useState)(!1),[O,E]=(0,r.useState)((null==l?void 0:l.type)||n||N.A2.BLOG),[R,T]=(0,r.useState)((null==l?void 0:l.category)||u||N.aA.AI),[I,L]=(0,r.useState)((null==l?void 0:l.resourceType)||c||N.Uk.ARTICLE),[P,U]=(0,r.useState)((null==l?void 0:l.tags)||""),[_,M]=(0,r.useState)((null==l?void 0:l.link)||""),[Z,D]=(0,r.useState)((null==l?void 0:l.author)||""),[B,G]=(0,r.useState)((null==l?void 0:l.duration)||""),[$,V]=(0,r.useState)((null==l?void 0:l.coverImage)||""),[q,F]=(0,r.useState)([]),z=(()=>{if(O===N.A2.BLOG)return"blog:default";if(O===N.A2.RESOURCE){let e=R||N.aA.AI,t=I||N.Uk.ARTICLE;return"resource:".concat(e,":").concat(t)}return"default"})();(0,r.useEffect)(()=>{if(d){if(!x){let e=d.split("\n"),t=e[0].replace(/^#+\s*/,"").trim();if(t&&t.length<50&&(f(t),e[0].replace(/^#+\s*/,"").trim()===t)){let t=e.slice(1).join("\n").trim();t!==d&&m(t)}}if(!h){let e=d.replace(/!\[.*?\]\(.*?\)/g,"").replace(/\[.*?\]\(.*?\)/g,"$1").replace(/#{1,6}\s/g,"").replace(/(\*\*|__)(.*?)\1/g,"$2").replace(/(\*|_)(.*?)\1/g,"$2").replace(/`{1,3}.*?`{1,3}/g,"").split("\n").map(e=>e.trim()).filter(e=>e.length>0)[0]||"";if(e){let t=e.match(/.*?[。！？.!?]/),l=t?t[0]:e;l.length>30&&(l=l.slice(0,30)+"..."),g(l)}}}},[d]);let H=async()=>{if(_){S(!0);try{let e=await fetch("/api/parse-url",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:_})});if(!e.ok)throw Error("Failed to parse");let t=await e.json();t.title&&f(t.title),t.description&&g(t.description),t.author&&D(t.author),t.duration&&G(t.duration),t.coverImage&&V(t.coverImage),t.tags&&Array.isArray(t.tags)&&t.tags.length>0&&U(t.tags.join(", "))}catch(e){console.error(e),alert("解析失败，请手动输入")}finally{S(!1)}}},K=async e=>{k(!0),e.append("content",d),e.set("title",x),e.set("description",h),e.set("slug",b),e.set("tags",P),e.set("link",_),e.set("author",Z),e.set("duration",B),$&&e.set("coverImage",$),O!==N.A2.BLOG||e.get("category")||u||e.set("category","blog"),await t(e),k(!1)};return(0,s.jsxs)("form",{action:K,className:"space-y-8 max-w-5xl",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(O===N.A2.RESOURCE||n===N.A2.RESOURCE)&&(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"资源链接"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{name:"link",value:_,onChange:e=>M(e.target.value),className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"粘贴 YouTube 视频链接或其他 URL"}),(0,s.jsxs)("button",{type:"button",onClick:H,disabled:A||!_,className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 font-medium disabled:opacity-50 flex items-center gap-2",children:[A?(0,s.jsx)(i.Z,{className:"w-4 h-4 animate-spin"}):(0,s.jsx)(o.Z,{className:"w-4 h-4"}),"解析"]})]}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:"点击解析可自动获取标题和描述"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:["标题 ",O!==N.A2.RESOURCE&&"(可自动生成)"]}),(0,s.jsx)("input",{name:"title",value:x,onChange:e=>f(e.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"输入标题或粘贴正文自动生成"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-slate-700 flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Slug (URL 路径)"}),(0,s.jsxs)("button",{type:"button",onClick:()=>{y(j(10))},className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[(0,s.jsx)(o.Z,{className:"w-3 h-3"})," 随机生成"]})]}),(0,s.jsx)("input",{name:"slug",value:b,onChange:e=>y(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"留空则自动生成随机 ID"})]}),n&&(0,s.jsx)("input",{type:"hidden",name:"type",value:n}),u&&(0,s.jsx)("input",{type:"hidden",name:"category",value:u}),c&&(0,s.jsx)("input",{type:"hidden",name:"resourceType",value:c}),!n&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"类型"}),(0,s.jsxs)("select",{name:"type",value:O,onChange:e=>E(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[(0,s.jsx)("option",{value:N.A2.BLOG,children:"博客 (Blog)"}),(0,s.jsx)("option",{value:N.A2.RESOURCE,children:"资源 (Resource)"})]})]}),!u&&O!==N.A2.BLOG&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"分类"}),(0,s.jsxs)("select",{name:"category",value:R,onChange:e=>T(e.target.value),required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[(0,s.jsx)("option",{value:N.aA.AI,children:"AI 学习资源 (AI)"}),(0,s.jsx)("option",{value:N.aA.CONTENT_CREATION,children:"内容创作与 IP (Content & IP)"})]})]}),(O===N.A2.RESOURCE||n===N.A2.RESOURCE)&&(0,s.jsxs)(s.Fragment,{children:[!c&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"资源类型"}),(0,s.jsxs)("select",{name:"resourceType",value:I,onChange:e=>L(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:[(0,s.jsx)("option",{value:N.Uk.ARTICLE,children:"精选文章 (Article)"}),(0,s.jsx)("option",{value:N.Uk.VIDEO,children:"视频链接 (Video)"}),(0,s.jsx)("option",{value:N.Uk.PODCAST,children:"精选播客 (Podcast)"}),(0,s.jsx)("option",{value:N.Uk.TOOL,children:"AI 产品/工具 (Tool)"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"外部链接 (可选)"}),(0,s.jsx)("input",{name:"link_display_only",value:_,disabled:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 bg-slate-50 text-slate-500 focus:outline-none",placeholder:"请在上方解析处输入"})]})]}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"描述 (可自动生成)"}),(0,s.jsx)("textarea",{name:"description",value:h,onChange:e=>g(e.target.value),rows:2,className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"简短描述，用于 SEO 和卡片展示 (粘贴正文可自动生成)"})]}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"标签"}),(0,s.jsx)(v,{contextKey:z,onTagsChange:F})]}),(0,s.jsx)(p,{initialTags:P,onChange:U,category:R,suggestions:q.length>0?q:void 0})]}),("resource"===O||"resource"===n)&&(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"原作者/来源"}),(0,s.jsx)("input",{name:"author",value:Z,onChange:e=>D(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例如: YouTube Channel Name"})]}),I===N.Uk.VIDEO&&(0,s.jsxs)("div",{className:"space-y-2 w-1/3",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"视频时长"}),(0,s.jsx)("input",{name:"duration",value:B,onChange:e=>G(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"例如: 12:34"})]})]}),("resource"===O||"resource"===n)&&(0,s.jsx)("input",{type:"hidden",name:"coverImage",value:$})]}),O!==N.A2.RESOURCE&&n!==N.A2.RESOURCE&&(0,s.jsxs)("div",{className:"space-y-2 prose prose-slate max-w-none",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700 block",children:"正文 (Markdown)"}),(0,s.jsx)(w,{value:d,onChange:m})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t border-slate-100",children:[(0,s.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"px-6 py-2 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50 font-medium",children:"取消"}),(0,s.jsxs)("button",{type:"submit",disabled:C,className:"px-6 py-2 rounded-lg bg-slate-900 text-white hover:bg-slate-800 font-medium disabled:opacity-50 flex items-center",children:[C&&(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-2 animate-spin"}),a?"更新":"创建"]})]})]})}},985:function(e,t,l){"use strict";l.d(t,{A2:function(){return s},Hs:function(){return r},Uk:function(){return n},aA:function(){return a}});let s={BLOG:"blog",RESOURCE:"resource"},a={AI:"ai",CONTENT_CREATION:"content-creation",ALL:"all"},n={ARTICLE:"article",VIDEO:"video",PODCAST:"podcast",TOOL:"tool"},r={[a.ALL]:"全部资源",[a.AI]:"AI 学习资源",[a.CONTENT_CREATION]:"内容 & IP"};n.ARTICLE,n.VIDEO,n.PODCAST,n.TOOL},8820:function(){}}]);