(()=>{var e={};e.id=496,e.ids=[496],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},93040:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.ZP,__next_app__:()=>u,originalPathname:()=>d,pages:()=>c,routeModule:()=>b,tree:()=>o});var r=a(50482),s=a(69108),n=a(83543),i=a(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);a.d(t,l);let o=["",{children:["admin",{children:["resources",{children:["[category]",{children:["[resourceType]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,19293)),"/Users/abobo/Desktop/geminiai/hero/src/app/admin/resources/[category]/[resourceType]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,85238)),"/Users/abobo/Desktop/geminiai/hero/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,21342)),"/Users/abobo/Desktop/geminiai/hero/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/abobo/Desktop/geminiai/hero/src/app/admin/resources/[category]/[resourceType]/page.tsx"],d="/admin/resources/[category]/[resourceType]/page",u={require:a,loadChunk:()=>Promise.resolve()},b=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/resources/[category]/[resourceType]/page",pathname:"/admin/resources/[category]/[resourceType]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},17279:(e,t,a)=>{let r={"08d25e6ee307efcee7e7b457c4063a5856b3aab3":()=>Promise.resolve().then(a.bind(a,81557)).then(e=>e.updatePageContent),"2e6028dd8be711b960f4ee7354136bb8e666cf6d":()=>Promise.resolve().then(a.bind(a,81557)).then(e=>e.seedPageContent),cda48e5fbaded337a53c48c3caf027d748127a49:()=>Promise.resolve().then(a.bind(a,81557)).then(e=>e.getPageContent),"3a4a64d30cf8a2b54caaf6c920a9a404abac5a52":()=>Promise.resolve().then(a.bind(a,18726)).then(e=>e.getPostBySlug),"43c503547db36b1bc903b96bcc9d10bd8c964a03":()=>Promise.resolve().then(a.bind(a,18726)).then(e=>e.updatePost),"57aeed66b64bebd82d7b74b9f3d62929c450544e":()=>Promise.resolve().then(a.bind(a,18726)).then(e=>e.deletePost),c572cf63742f2c5e77fbbaa42ec9372b04df91b3:()=>Promise.resolve().then(a.bind(a,18726)).then(e=>e.createPost),f97b4353edd2660cf53c949b9246ca7e422d58a5:()=>Promise.resolve().then(a.bind(a,18726)).then(e=>e.getPost),fa1464f9317c93f1633ada6e829a94f527c96323:()=>Promise.resolve().then(a.bind(a,18726)).then(e=>e.getPosts)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"08d25e6ee307efcee7e7b457c4063a5856b3aab3":s.bind(null,"08d25e6ee307efcee7e7b457c4063a5856b3aab3"),"2e6028dd8be711b960f4ee7354136bb8e666cf6d":s.bind(null,"2e6028dd8be711b960f4ee7354136bb8e666cf6d"),cda48e5fbaded337a53c48c3caf027d748127a49:s.bind(null,"cda48e5fbaded337a53c48c3caf027d748127a49"),"3a4a64d30cf8a2b54caaf6c920a9a404abac5a52":s.bind(null,"3a4a64d30cf8a2b54caaf6c920a9a404abac5a52"),"43c503547db36b1bc903b96bcc9d10bd8c964a03":s.bind(null,"43c503547db36b1bc903b96bcc9d10bd8c964a03"),"57aeed66b64bebd82d7b74b9f3d62929c450544e":s.bind(null,"57aeed66b64bebd82d7b74b9f3d62929c450544e"),c572cf63742f2c5e77fbbaa42ec9372b04df91b3:s.bind(null,"c572cf63742f2c5e77fbbaa42ec9372b04df91b3"),f97b4353edd2660cf53c949b9246ca7e422d58a5:s.bind(null,"f97b4353edd2660cf53c949b9246ca7e422d58a5"),fa1464f9317c93f1633ada6e829a94f527c96323:s.bind(null,"fa1464f9317c93f1633ada6e829a94f527c96323")}},45466:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,61476,23)),Promise.resolve().then(a.bind(a,95954)),Promise.resolve().then(a.bind(a,28448))},14513:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(69224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},95954:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DeleteButton:()=>n});var r=a(95344);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function n(){return r.jsx("button",{type:"submit",className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",onClick:e=>{confirm("您确定要删除这篇文章吗？")||e.preventDefault()},children:r.jsx(s,{className:"w-4 h-4"})})}},28448:(e,t,a)=>{"use strict";a.r(t),a.d(t,{TagFilter:()=>o});var r=a(95344),s=a(3729),n=a(8428),i=a(14513),l=a(25390);function o({tags:e,selectedTag:t}){let a=(0,n.useRouter)(),[o,c]=(0,s.useState)(!1),d=e=>{c(!1);let t=new URL(window.location.href);e?t.searchParams.set("tag",e):t.searchParams.delete("tag"),a.push(t.pathname+t.search)};return(0,r.jsxs)("div",{className:"relative",children:[r.jsx("button",{onClick:()=>c(!o),className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium border transition-colors ${t?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-slate-700 border-slate-200 hover:bg-slate-50"}`,children:t?(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"font-normal text-slate-500",children:"标签:"}),t,r.jsx("span",{onClick:e=>{e.stopPropagation(),d(null)},className:"ml-1 p-0.5 rounded-full hover:bg-blue-100 cursor-pointer",children:r.jsx(i.Z,{className:"w-3 h-3"})})]}):(0,r.jsxs)(r.Fragment,{children:["筛选标签",r.jsx(l.Z,{className:"w-4 h-4 text-slate-400"})]})}),o&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-slate-100 py-1 z-20 max-h-64 overflow-y-auto",children:[r.jsx("button",{onClick:()=>d(null),className:`w-full text-left px-4 py-2 text-sm hover:bg-slate-50 ${t?"text-slate-700":"text-blue-600 font-medium"}`,children:"全部"}),e.map(e=>r.jsx("button",{onClick:()=>d(e),className:`w-full text-left px-4 py-2 text-sm hover:bg-slate-50 ${t===e?"text-blue-600 font-medium":"text-slate-700"}`,children:e},e))]})]})]})}},59508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(40002),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let a=(0,r.forwardRef)(({color:a="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,...u},b)=>(0,r.createElement)("svg",{ref:b,...s,width:i,height:i,stroke:a,strokeWidth:o?24*Number(l)/Number(i):l,className:["lucide",`lucide-${n(e)}`,c].join(" "),...u},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return a.displayName=`${e}`,a}},22171:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(59508).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},2306:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(59508).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},16274:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(48026),s=a.n(r)},48026:(e,t,a)=>{"use strict";let{createProxy:r}=a(86843);e.exports=r("/Users/abobo/Desktop/geminiai/hero/node_modules/next/dist/client/link.js")},18726:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createPost:()=>m,deletePost:()=>x,getPost:()=>u,getPostBySlug:()=>b,getPosts:()=>d,updatePost:()=>h});var r=a(74471);a(68616);var s=a(53524),n=a(66864),i=a(867),l=a(70996),o=a(42053);let c=new s.PrismaClient;async function d(){return await c.post.findMany({orderBy:{date:"desc"}})}async function u(e){return await c.post.findUnique({where:{id:e}})}async function b(e){return await c.post.findUnique({where:{slug:e}})}async function m(e){let t=e.get("title"),a=e.get("slug"),r=e.get("content"),s=e.get("description"),o=e.get("type"),d=e.get("category"),u=e.get("tags"),b=e.get("link"),m=e.get("resourceType"),h=e.get("author"),x=e.get("duration"),p=e.get("coverImage");a&&""!==a.trim()||(a=(0,l.x0)(10)),await c.post.create({data:{title:t,slug:a,content:r,description:s,type:o,category:d,tags:u,link:b||null,resourceType:m||null,author:h||null,duration:x||null,coverImage:p||null,date:new Date}}),(0,n.revalidatePath)("/admin/content"),(0,n.revalidatePath)("/admin/blog"),(0,n.revalidatePath)("/admin/resources/ai/video"),(0,n.revalidatePath)("/admin/resources/ai/podcast"),(0,n.revalidatePath)("/admin/resources/ai/tool"),(0,n.revalidatePath)("/admin/resources/content-creation/video"),(0,n.revalidatePath)("/admin/resources/content-creation/podcast"),(0,n.revalidatePath)("/admin/resources/content-creation/article"),(0,n.revalidatePath)("/blog"),(0,n.revalidatePath)("/resources"),(0,n.revalidatePath)(`/blog/${a}`),(0,n.revalidatePath)(`/resources/${d}/${a}`),"blog"===o?(0,i.redirect)("/admin/blog"):"ai"===d?(0,i.redirect)(`/admin/resources/ai/${m||"article"}`):"content-creation"===d?(0,i.redirect)(`/admin/resources/content-creation/${m||"article"}`):(0,i.redirect)("/admin")}async function h(e,t){let a=t.get("title"),r=t.get("slug"),s=t.get("content"),o=t.get("description"),d=t.get("type"),u=t.get("category"),b=t.get("tags"),m=t.get("link"),h=t.get("resourceType"),x=t.get("author"),p=t.get("duration"),g=t.get("coverImage");r&&""!==r.trim()||(r=(0,l.x0)(10)),await c.post.update({where:{id:e},data:{title:a,slug:r,content:s,description:o,type:d,category:u,tags:b,link:m||null,resourceType:h||null,author:x||null,duration:p||null,coverImage:g||null}}),(0,n.revalidatePath)("/admin/content"),(0,n.revalidatePath)("/admin/blog"),(0,n.revalidatePath)(`/admin/content/${e}`),(0,n.revalidatePath)("/admin/resources/ai/video"),(0,n.revalidatePath)("/admin/resources/ai/podcast"),(0,n.revalidatePath)("/admin/resources/ai/tool"),(0,n.revalidatePath)("/admin/resources/content-creation/video"),(0,n.revalidatePath)("/admin/resources/content-creation/podcast"),(0,n.revalidatePath)("/admin/resources/content-creation/article"),(0,n.revalidatePath)("/blog"),(0,n.revalidatePath)("/resources"),(0,n.revalidatePath)(`/blog/${r}`),(0,n.revalidatePath)(`/resources/${u}/${r}`),"blog"===d?(0,i.redirect)("/admin/blog"):"ai"===u?(0,i.redirect)(`/admin/resources/ai/${h||"article"}`):"content-creation"===u?(0,i.redirect)(`/admin/resources/content-creation/${h||"article"}`):(0,i.redirect)("/admin")}async function x(e){await c.post.delete({where:{id:e}}),(0,n.revalidatePath)("/admin/content")}(0,o.h)([d,u,b,m,h,x]),(0,r.U)("fa1464f9317c93f1633ada6e829a94f527c96323",d),(0,r.U)("f97b4353edd2660cf53c949b9246ca7e422d58a5",u),(0,r.U)("3a4a64d30cf8a2b54caaf6c920a9a404abac5a52",b),(0,r.U)("c572cf63742f2c5e77fbbaa42ec9372b04df91b3",m),(0,r.U)("43c503547db36b1bc903b96bcc9d10bd8c964a03",h),(0,r.U)("57aeed66b64bebd82d7b74b9f3d62929c450544e",x)},19293:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v,dynamic:()=>p});var r=a(25036),s=a(16274),n=a(18726),i=a(2306),l=a(22171),o=a(72245),c=a(51920),d=a(867),u=a(86843);let b=(0,u.createProxy)(String.raw`/Users/abobo/Desktop/geminiai/hero/src/components/admin/TagFilter.tsx`),{__esModule:m,$$typeof:h}=b;b.default;let x=(0,u.createProxy)(String.raw`/Users/abobo/Desktop/geminiai/hero/src/components/admin/TagFilter.tsx#TagFilter`),p="force-dynamic",g={video:"视频",article:"文章",tool:"工具",podcast:"播客"},f={ai:"AI","content-creation":"内容创作"};async function v({params:e,searchParams:t}){let{category:a,resourceType:u}=e,b=t.tag||null;f[a]&&g[u]||(0,d.notFound)();let m=(await (0,n.getPosts)()).filter(e=>"resource"===e.type&&e.category===a&&e.resourceType===u),h=Array.from(new Set(m.flatMap(e=>e.tags?e.tags.split(",").map(e=>e.trim()):[]))).sort();b&&(m=m.filter(e=>e.tags&&e.tags.split(",").map(e=>e.trim()).includes(b)));let p=f[a],v=g[u];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-slate-900",children:[p," ",v]}),(0,r.jsxs)("p",{className:"text-slate-500 text-sm",children:["管理 ",p," 板块下的精选",v]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(x,{tags:h,selectedTag:b}),(0,r.jsxs)(s.default,{href:`/admin/content/new?type=resource&category=${a}&resourceType=${u}`,className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors",children:[r.jsx(i.Z,{className:"w-4 h-4"}),"添加",v]})]})]}),r.jsx("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4 font-semibold text-slate-900",children:"标题"}),r.jsx("th",{className:"px-6 py-4 font-semibold text-slate-900",children:"链接"}),r.jsx("th",{className:"px-6 py-4 font-semibold text-slate-900",children:"标签"}),r.jsx("th",{className:"px-6 py-4 font-semibold text-slate-900",children:"日期"}),r.jsx("th",{className:"px-6 py-4 font-semibold text-slate-900 text-right",children:"操作"})]})}),(0,r.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[m.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[(0,r.jsxs)("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-slate-900",children:e.title}),r.jsx("div",{className:"text-slate-500 text-xs mt-0.5 line-clamp-1",children:e.description})]}),r.jsx("td",{className:"px-6 py-4 text-slate-500 max-w-xs truncate",children:e.link?r.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.link}):"-"}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags?e.tags.split(",").map(e=>r.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600",children:e.trim()},e)):"-"})}),r.jsx("td",{className:"px-6 py-4 text-slate-500",children:(0,o.p)(e.date.toISOString())}),r.jsx("td",{className:"px-6 py-4 text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[r.jsx(s.default,{href:`/admin/content/${e.id}`,className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:r.jsx(l.Z,{className:"w-4 h-4"})}),r.jsx("form",{action:n.deletePost.bind(null,e.id),children:r.jsx(c.m,{})})]})})]},e.id)),0===m.length&&r.jsx("tr",{children:(0,r.jsxs)("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:["暂无",v,"。点击右上角添加！"]})})]})]})})})]})}},51920:(e,t,a)=>{"use strict";a.d(t,{m:()=>l});var r=a(86843);let s=(0,r.createProxy)(String.raw`/Users/abobo/Desktop/geminiai/hero/src/components/admin/DeleteButton.tsx`),{__esModule:n,$$typeof:i}=s;s.default;let l=(0,r.createProxy)(String.raw`/Users/abobo/Desktop/geminiai/hero/src/components/admin/DeleteButton.tsx#DeleteButton`)},70996:(e,t,a)=>{"use strict";let r,s;a.d(t,{x0:()=>l});var n=a(6113);let i=e=>{!r||r.length<e?(r=Buffer.allocUnsafe(128*e),n.randomFillSync(r),s=0):s+e>r.length&&(n.randomFillSync(r),s=0),s+=e},l=(e=21)=>{i(e|=0);let t="";for(let a=s-e;a<s;a++)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[a]];return t}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[638,499,238,840,867,917],()=>a(93040));module.exports=r})();