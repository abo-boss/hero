"use strict";(()=>{var e={};e.id=390,e.ids=[390],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},19:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>g,originalPathname:()=>P,patchFetch:()=>A,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>b});var a={};t.r(a),t.d(a,{GET:()=>u,dynamic:()=>p});var o=t(95419),s=t(69108),n=t(99678),c=t(78070),i=t(34490);let p="force-dynamic";async function u(){try{let e=process.env.DATABASE_URL||"",r=!!e,t=e?e.replace(/:[^:@]+@/,":***@"):"not set",a=r?new URL(e):null,o=a?{protocol:a.protocol.replace(":",""),host:a.hostname,port:a.port,db:a.pathname.replace("/",""),userIsPostgres:"postgres"===a.username,isPoolerHost:a.hostname.includes("pooler.supabase.com"),is6543Port:"6543"===a.port,hasPgbouncerParam:a.searchParams.has("pgbouncer")&&"true"===a.searchParams.get("pgbouncer"),hasConnectionLimit:a.searchParams.has("connection_limit")}:{},s=0,n=[];try{s=await i._.post.count(),n=await i._.post.findMany({take:5,orderBy:{date:"desc"}})}catch{}return c.Z.json({success:!0,env:{DATABASE_URL_SET:r,DATABASE_URL_MASKED:t,NODE_ENV:"production",details:o},count:s,posts:n})}catch(a){let e=process.env.DATABASE_URL||"",r=e?new URL(e):null,t=r?{protocol:r.protocol.replace(":",""),host:r.hostname,port:r.port,db:r.pathname.replace("/",""),userIsPostgres:"postgres"===r.username,isPoolerHost:r.hostname.includes("pooler.supabase.com"),is6543Port:"6543"===r.port,hasPgbouncerParam:r.searchParams.has("pgbouncer")&&"true"===r.searchParams.get("pgbouncer"),hasConnectionLimit:r.searchParams.has("connection_limit")}:{};return c.Z.json({success:!1,error:a.message,stack:a.stack,env:{DATABASE_URL_SET:!!e,details:t}},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/debug-db/route",pathname:"/api/debug-db",filename:"route",bundlePath:"app/api/debug-db/route"},resolvedPagePath:"/Users/abobo/Desktop/geminiai/hero/src/app/api/debug-db/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:h,headerHooks:g,staticGenerationBailout:b}=l,P="/api/debug-db/route";function A(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},34490:(e,r,t)=>{t.d(r,{_:()=>o});var a=t(53524);let o=globalThis.prisma??new a.PrismaClient}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[638,206],()=>t(19));module.exports=a})();